!tape
name: run container with PortBindings
interactions:
- recorded: 2014-07-06T21:16:29.543Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/images/create?fromImage=busybox&tag=latest&registry=
    headers:
      Accept: '*/*'
      Content-Length: '0'
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
  response:
    status: 200
    headers:
      Content-Type: application/json
      Date: Sun, 06 Jul 2014 21:16:27 GMT
    body: "{\"status\":\"Pulling repository busybox\"}\r\n{\"status\":\"Pulling image (latest) from busybox\",\"progressDetail\":{},\"id\":\"a9eb17255234\"}{\"status\":\"Pulling image (latest) from busybox, endpoint: https://cdn-registry-1.docker.io/v1/\",\"\
      progressDetail\":{},\"id\":\"a9eb17255234\"}{\"status\":\"Pulling dependent layers\",\"progressDetail\":{},\"id\":\"a9eb17255234\"}{\"status\":\"Download complete\",\"progressDetail\":{},\"id\":\"511136ea3c5a\"}{\"status\":\"Download complete\",\"progressDetail\"\
      :{},\"id\":\"42eed7f1bf2a\"}{\"status\":\"Download complete\",\"progressDetail\":{},\"id\":\"120e218dd395\"}{\"status\":\"Download complete\",\"progressDetail\":{},\"id\":\"a9eb17255234\"}{\"status\":\"Download complete\",\"progressDetail\":{},\"id\":\"\
      a9eb17255234\"}"
- recorded: 2014-07-06T21:16:29.566Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/containers/create?name=
    headers:
      Accept: '*/*'
      Content-Length: '302'
      Content-Type: application/json
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
    body: '{"Hostname":"","User":"","Memory":0,"MemorySwap":0,"AttachStdin":false,"AttachStdout":true,"AttachStderr":true,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Cmd":["sh","-c","ping 127.0.0.1"],"Image":"busybox:latest","Volumes":[],"WorkingDir":"","DisableNetwork":false,"ExposedPorts":{"4711/tcp":{}}}'
  response:
    status: 201
    headers:
      Content-Type: application/json
      Date: Sun, 06 Jul 2014 21:16:29 GMT
    body: |
      {"Id":"40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38","Warnings":null}
- recorded: 2014-07-06T21:16:29.653Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/containers/40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38/start
    headers:
      Accept: '*/*'
      Content-Length: '174'
      Content-Type: application/json
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
    body: '{"Binds":[],"Links":[],"LxcConf":[],"PortBindings":{"4711/tcp":[{"HostIp":"0.0.0.0","HostPort":"4712"}]},"PublishAllPorts":false,"Privileged":false,"Dns":[],"VolumesFrom":[]}'
  response:
    status: 204
    headers:
      Content-Type: text/plain; charset=utf-8
      Date: Sun, 06 Jul 2014 21:16:29 GMT
- recorded: 2014-07-06T21:16:29.667Z
  request:
    method: GET
    uri: http://172.17.42.1:4243/containers/40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38/json
    headers:
      Accept: '*/*'
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
  response:
    status: 200
    headers:
      Content-Type: application/json
      Date: Sun, 06 Jul 2014 21:16:29 GMT
      X-Betamax: PLAY
    body: |
      {"Args":["-c","ping 127.0.0.1"],"Config":{"AttachStderr":true,"AttachStdin":false,"AttachStdout":true,"Cmd":["sh","-c","ping 127.0.0.1"],"CpuShares":0,"Cpuset":"","Domainname":"","Entrypoint":null,"Env":["HOME=/","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"],"ExposedPorts":{"4711/tcp":{}},"Hostname":"40094c8693c8","Image":"busybox:latest","Memory":0,"MemorySwap":0,"NetworkDisabled":false,"OnBuild":null,"OpenStdin":false,"PortSpecs":null,"StdinOnce":false,"Tty":false,"User":"","Volumes":null,"WorkingDir":""},"Created":"2014-07-06T21:16:29.556541513Z","Driver":"aufs","ExecDriver":"native-0.2","HostConfig":{"Binds":[],"ContainerIDFile":"","Dns":[],"DnsSearch":null,"Links":null,"LxcConf":[],"NetworkMode":"","PortBindings":{"4711/tcp":[{"HostIp":"0.0.0.0","HostPort":"4712"}]},"Privileged":false,"PublishAllPorts":false,"VolumesFrom":[]},"HostnamePath":"/var/lib/docker/containers/40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38/hostname","HostsPath":"/var/lib/docker/containers/40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38/hosts","Id":"40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38","Image":"a9eb172552348a9a49180694790b33a1097f546456d041b6e82e4d7716ddb721","MountLabel":"","Name":"/pensive_feynman","NetworkSettings":{"Bridge":"docker0","Gateway":"172.17.42.1","IPAddress":"172.17.0.11","IPPrefixLen":16,"PortMapping":null,"Ports":{"4711/tcp":[{"HostIp":"0.0.0.0","HostPort":"4712"}]}},"Path":"sh","ProcessLabel":"","ResolvConfPath":"/var/lib/docker/containers/40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38/resolv.conf","State":{"ExitCode":0,"FinishedAt":"0001-01-01T00:00:00Z","Paused":false,"Pid":27690,"Running":true,"StartedAt":"2014-07-06T21:16:29.649509471Z"},"Volumes":{},"VolumesRW":{}}
- recorded: 2014-07-06T21:16:29.735Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/containers/40094c8693c89a7dcf9ca0db4198b2c6b490855166526535f62fb837bb6c7f38/stop
    headers:
      Accept: '*/*'
      Content-Length: '0'
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
  response:
    status: 204
    headers:
      Content-Type: text/plain; charset=utf-8
      Date: Sun, 06 Jul 2014 21:16:29 GMT
