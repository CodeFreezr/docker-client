!tape
name: run container with PortBindings
interactions:
- recorded: 2014-12-06T09:07:48.742Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/images/create?fromImage=busybox&tag=latest&registry=
    headers:
      Accept: '*/*'
      Content-Length: '0'
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
  response:
    status: 200
    headers:
      Content-Type: application/json
      Date: Sat, 06 Dec 2014 09:07:48 GMT
    body: "{\"status\":\"The image you are pulling has been verified\",\"id\":\"busybox:latest\"}\r\n{\"status\":\"Already exists\",\"progressDetail\":{},\"id\":\"511136ea3c5a\"}{\"status\":\"Already exists\",\"progressDetail\":{},\"id\":\"df7546f9f060\"}{\"\
      status\":\"Already exists\",\"progressDetail\":{},\"id\":\"e433a6c5b276\"}{\"status\":\"Already exists\",\"progressDetail\":{},\"id\":\"e72ac664f4f0\"}{\"status\":\"Status: Image is up to date for busybox:latest\"}\r\n"
- recorded: 2014-12-06T09:07:48.786Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/containers/create?name=
    headers:
      Accept: '*/*'
      Content-Length: '92'
      Content-Type: application/json
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
    body: '{"Cmd":["sh","-c","ping 127.0.0.1"],"ExposedPorts":{"4711/tcp":{}},"Image":"busybox:latest"}'
  response:
    status: 201
    headers:
      Content-Type: application/json
      Date: Sat, 06 Dec 2014 09:07:48 GMT
    body: |
      {"Id":"691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4","Warnings":null}
- recorded: 2014-12-06T09:07:48.904Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/containers/691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4/start
    headers:
      Accept: '*/*'
      Content-Length: '70'
      Content-Type: application/json
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
    body: '{"PortBindings":{"4711/tcp":[{"HostIp":"0.0.0.0","HostPort":"4712"}]}}'
  response:
    status: 204
    headers:
      Date: Sat, 06 Dec 2014 09:07:48 GMT
- recorded: 2014-12-06T09:07:48.919Z
  request:
    method: GET
    uri: http://172.17.42.1:4243/containers/691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4/json
    headers:
      Accept: '*/*'
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
  response:
    status: 200
    headers:
      Content-Type: application/json
      Date: Sat, 06 Dec 2014 09:07:48 GMT
      X-Betamax: PLAY
    body: |
      {"AppArmorProfile":"","Args":["-c","ping 127.0.0.1"],"Config":{"AttachStderr":false,"AttachStdin":false,"AttachStdout":false,"Cmd":["sh","-c","ping 127.0.0.1"],"CpuShares":0,"Cpuset":"","Domainname":"","Entrypoint":null,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"],"ExposedPorts":{"4711/tcp":{}},"Hostname":"691e5bb4ede8","Image":"busybox:latest","Memory":0,"MemorySwap":0,"NetworkDisabled":false,"OnBuild":null,"OpenStdin":false,"PortSpecs":null,"StdinOnce":false,"Tty":false,"User":"","Volumes":null,"WorkingDir":""},"Created":"2014-12-06T09:07:48.759772355Z","Driver":"aufs","ExecDriver":"native-0.2","HostConfig":{"Binds":null,"CapAdd":null,"CapDrop":null,"ContainerIDFile":"","Devices":null,"Dns":null,"DnsSearch":null,"ExtraHosts":null,"Links":null,"LxcConf":null,"NetworkMode":"","PortBindings":{"4711/tcp":[{"HostIp":"0.0.0.0","HostPort":"4712"}]},"Privileged":false,"PublishAllPorts":false,"RestartPolicy":{"MaximumRetryCount":0,"Name":""},"SecurityOpt":null,"VolumesFrom":null},"HostnamePath":"/var/lib/docker/containers/691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4/hostname","HostsPath":"/var/lib/docker/containers/691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4/hosts","Id":"691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4","Image":"e72ac664f4f0c6a061ac4ef332557a70d69b0c624b6add35f1c181ff7fff2287","MountLabel":"","Name":"/drunk_perlman","NetworkSettings":{"Bridge":"docker0","Gateway":"172.17.42.1","IPAddress":"172.17.0.8","IPPrefixLen":16,"MacAddress":"02:42:ac:11:00:08","PortMapping":null,"Ports":{"4711/tcp":[{"HostIp":"0.0.0.0","HostPort":"4712"}]}},"Path":"sh","ProcessLabel":"","ResolvConfPath":"/var/lib/docker/containers/691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4/resolv.conf","State":{"ExitCode":0,"FinishedAt":"0001-01-01T00:00:00Z","Paused":false,"Pid":10375,"Restarting":false,"Running":true,"StartedAt":"2014-12-06T09:07:48.901248094Z"},"Volumes":{},"VolumesRW":{}}
- recorded: 2014-12-06T09:07:49.014Z
  request:
    method: POST
    uri: http://172.17.42.1:4243/containers/691e5bb4ede8faea794b23eb0b88d8e4e968ce53ee000cf3209f65f6d1e20fb4/stop
    headers:
      Accept: '*/*'
      Content-Length: '0'
      Host: 172.17.42.1:4243
      Proxy-Connection: Keep-Alive
  response:
    status: 204
    headers:
      Date: Sat, 06 Dec 2014 09:07:49 GMT
